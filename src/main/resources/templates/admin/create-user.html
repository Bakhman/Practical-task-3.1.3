<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>All users</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
</head>
<body>
<header class="header">
    <div class="container-fluid">
        <div class="row text-white bg-dark" >
            <div class="col-auto mr-auto">
                <h5 class="pt-2">
                    <strong th:text="${currentUser.email}" /> with roles:  <td th:text="${currentUser}"/>
                </h5>
            </div>
            <div class="col mt-2 text-end">
                <style>
                    a {
                        color: gray;
                    }
                    a:visited {
                        color: gray;
                    }
                    a:hover {
                        color: white;
                    }
                </style>
                <a class="nav-link" href="/logout">Logout</a>
            </div>
        </div>
    </div>
</header>
<div class="container-fluid">
    <div class="row">
        <div class="col-2 mt-3">
            <ul class="list-group">
                <div class="container-fluid">
                    <a class="list-group-item active" aria-current="true"  th:href="@{admin}">Admin</a>
                    <a class="list-group-item" style="color: dodgerblue" th:href="@{user}">User</a>
                </div>
            </ul>
        </div>
        <div class="col-10 bg-light">
            <h1>Admin panel</h1>
            <table class="table table-striped">
                <ul class="nav nav-tabs" id="myTab" role="tablist">
                    <li class="nav-item" role="presentation">
                        <a class="nav-link" style="color: mediumblue" th:href="@{admin}">Users table</a>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link active" id="profile-tab" data-bs-toggle="tab" data-bs-target="#profile-tab-pane" type="button" role="tab" aria-controls="profile-tab-pane" th:href="@{createUser}" aria-selected="true">New User</button>
                    </li>
                </ul>
                <div class="tab-content" id="myTabContent">
                    <div class="tab-pane fade show active" id="profile-tab-pane" role="tabpanel" aria-labelledby="profile-tab" tabindex="0">
                        <h5>Add new user</h5>
                        <body>
                        <form action="#" th:action="@{/createUser}" th:object="${user}" th:method="POST" >
                            <input type="hidden" name="id" th:field="${user.id}">
                            <label class="d-flex mx-auto justify-content-center" for="firstName"><b>FirstName</b></label>
                            <input type="text" style="width: 280px" name="firstName" id="firstName" placeholder="First name" class="form-control d-flex mx-auto justify-content-center mb-2" required/>
                            <label class="d-flex mx-auto justify-content-center" for="lastName"><b>LastName</b></label>
                            <input type="text" style="width: 280px" name="lastName" id="lastName" placeholder="Last name" class="form-control d-flex mx-auto justify-content-center mb-2" required/>
                            <label class="d-flex mx-auto justify-content-center" for="age"><b>Age</b></label>
                            <input type="number" style="width: 280px" name="age" id="age" placeholder="Age" class="form-control d-flex mx-auto justify-content-center mb-2" required/>
                            <label class="d-flex mx-auto justify-content-center" for="email"><b>Email</b></label>
                            <input type="email" style="width: 280px" name="email" id="email" placeholder="Email" class="form-control d-flex mx-auto justify-content-center mb-2" required/>
                            <label class="d-flex mx-auto justify-content-center" for="password"><b>Password</b></label>
                            <input type="password" style="width: 280px" name="password" id="password" placeholder="Password" class="form-control d-flex mx-auto justify-content-center mb-2" required/>

                            <label class="d-flex mx-auto justify-content-center"><b>Role</b></label>
                                <select class="d-flex mx-auto justify-content-center form-control" multiple size="2" style="width: 280px" name="roles">
                                    <option th:each="role : ${rolesList}"
                                            th:text="${role}"
                                            th:value="${role.id}">
                                    </option>
                                </select>
                            <br>
                            <button class="btn btn-success d-flex mx-auto justify-content-center text-light" type="submit">Add new user</button>
                        </form>
                        </body>
                    </div>
                </div>

            </table>
        </div>
    </div>
</div>
</body>
</html>
